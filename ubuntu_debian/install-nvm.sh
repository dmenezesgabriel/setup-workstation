#!/bin/bash
# --------------------------------------------------------------------------- #
# NVM installation script
# --------------------------------------------------------------------------- #
set -e
# --------------------------------------------------------------------------- #
# Choose version
# --------------------------------------------------------------------------- #
NVM_VERSION=0.38.0
# --------------------------------------------------------------------------- #
# Download and run installation script
# --------------------------------------------------------------------------- #
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v$NVM_VERSION/install.sh | bash
# --------------------------------------------------------------------------- #
# Write command to load nvm
# --------------------------------------------------------------------------- #
cat <<'EOF' >> ~/.zshrc
# This loads nvm
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" \
|| printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
EOF
# --------------------------------------------------------------------------- #
# Reload shell config
# --------------------------------------------------------------------------- #
. ~/.zshrc
# --------------------------------------------------------------------------- #
# Install Node via NVM
# --------------------------------------------------------------------------- #
nvm install node --lts
# --------------------------------------------------------------------------- #
# Test installation
# --------------------------------------------------------------------------- #
nvm --version
node --version
# --------------------------------------------------------------------------- #
